# å®¶å…·ç§Ÿèµå°ç¨‹åº MVP

ä¸€ä¸ªåŸºäºå¾®ä¿¡å°ç¨‹åºçš„å®¶å…·ç§Ÿèµå¹³å°æœ€å°å¯è¡Œäº§å“ï¼ˆMVPï¼‰ï¼Œé‡‡ç”¨ mono-repo æ¶æ„ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
å®¶å…·ç§Ÿèµ/
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ miniprogram/           # å¾®ä¿¡å°ç¨‹åºå‰ç«¯
â”‚       â”œâ”€â”€ pages/             # é¡µé¢ç›®å½•
â”‚       â”‚   â”œâ”€â”€ index/         # é¦–é¡µ
â”‚       â”‚   â”œâ”€â”€ category/      # åˆ†ç±»é¡µ
â”‚       â”‚   â”œâ”€â”€ list/          # åˆ—è¡¨é¡µï¼ˆå«ç­›é€‰ï¼‰
â”‚       â”‚   â”œâ”€â”€ detail/        # å•†å“è¯¦æƒ…é¡µï¼ˆPDPï¼‰
â”‚       â”‚   â””â”€â”€ profile/       # æˆ‘çš„é¡µé¢
â”‚       â”œâ”€â”€ config/            # é…ç½®ç›®å½•
â”‚       â”‚   â”œâ”€â”€ env.js         # ç¯å¢ƒé…ç½®ï¼ˆDEV/PRODï¼‰
â”‚       â”‚   â””â”€â”€ README.md      # ç¯å¢ƒé…ç½®è¯´æ˜
â”‚       â”œâ”€â”€ utils/             # å·¥å…·ç±»
â”‚       â”‚   â”œâ”€â”€ request.js     # ç½‘ç»œè¯·æ±‚å°è£…
â”‚       â”‚   â””â”€â”€ config.js      # å…¨å±€é…ç½®
â”‚       â”œâ”€â”€ app.js             # å°ç¨‹åºå…¥å£
â”‚       â”œâ”€â”€ app.json           # å°ç¨‹åºé…ç½®
â”‚       â””â”€â”€ app.wxss           # å…¨å±€æ ·å¼
â”œâ”€â”€ services/
â”‚   â””â”€â”€ api/                   # åç«¯ API æœåŠ¡
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â””â”€â”€ index.js       # API å…¥å£æ–‡ä»¶
â”‚       â”œâ”€â”€ seed/
â”‚       â”‚   â””â”€â”€ sku.json       # æ ·ä¾‹æ•°æ®ï¼ˆ20æ¡å®¶å…·æ•°æ®ï¼‰
â”‚       â”œâ”€â”€ package.json       # ä¾èµ–é…ç½®
â”‚       â””â”€â”€ Dockerfile         # Docker æ„å»ºæ–‡ä»¶
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ types/                 # å…±äº«ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ index.d.ts         # TypeScript ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ package.json       # åŒ…é…ç½®
â”œâ”€â”€ infra/                     # åŸºç¡€è®¾æ–½é…ç½®
â”‚   â””â”€â”€ nginx.conf             # Nginx é…ç½®æ–‡ä»¶
â”œâ”€â”€ docker-compose.yml         # Docker Compose é…ç½®
â”œâ”€â”€ package.json               # æ ¹ç›®å½•åŒ…é…ç½®
â””â”€â”€ README.md                  # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm æˆ– yarn
- Docker & Docker Compose (å¯é€‰)
- å¾®ä¿¡å¼€å‘è€…å·¥å…·

### ç¯å¢ƒé…ç½®

é¡¹ç›®æ”¯æŒ DEV/PROD ä¸¤å¥—ç¯å¢ƒé…ç½®ï¼Œåœ¨ `apps/miniprogram/project.private.config.json` ä¸­è®¾ç½®ï¼š

```json
{
  "env": "DEV"    // å¼€å‘ç¯å¢ƒï¼ˆé»˜è®¤ï¼‰
  // æˆ–
  "env": "PROD"   // ç”Ÿäº§ç¯å¢ƒ
}
```

- **DEVç¯å¢ƒ**: `http://localhost:3000` + Mockæ•°æ® + è°ƒè¯•æ—¥å¿—
- **PRODç¯å¢ƒ**: `https://api.furniture-rent.com` + æ€§èƒ½ä¼˜åŒ–

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ï¼š`apps/miniprogram/config/README.md`

### æœ¬åœ°å¼€å‘

#### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ ¹ç›®å½•ä¾èµ–
npm install

# å®‰è£… API æœåŠ¡ä¾èµ–
cd services/api
npm install
```

#### 2. å¯åŠ¨åç«¯ API

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm run dev:api

# æˆ–è€…ç›´æ¥åœ¨ services/api ç›®å½•
cd services/api
npm run dev
```

API æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨

#### 3. å¯åŠ¨å¾®ä¿¡å°ç¨‹åº

1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. å¯¼å…¥é¡¹ç›®ï¼Œé€‰æ‹© `apps/miniprogram` ç›®å½•
3. é…ç½® AppIDï¼ˆæµ‹è¯•å¯ä½¿ç”¨æµ‹è¯•å·ï¼‰
4. ç‚¹å‡»ç¼–è¯‘è¿è¡Œ

#### 4. åŒæ—¶å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼ŒåŒæ—¶å¯åŠ¨ API å’Œå°ç¨‹åºå¼€å‘
npm run dev
```

### Docker éƒ¨ç½²

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

## ğŸ“š API æ¥å£æ–‡æ¡£

### åŸºç¡€ URL
- å¼€å‘ç¯å¢ƒ: `http://localhost:3000`
- ç”Ÿäº§ç¯å¢ƒ: æ ¹æ®éƒ¨ç½²é…ç½®

### æ¥å£åˆ—è¡¨

#### 1. è·å–ç­›é€‰å…ƒæ•°æ®
```http
GET /api/filters/meta
```

è¿”å›åˆ†ç±»ã€ä»·æ ¼åŒºé—´ã€å“ç‰Œç­‰ç­›é€‰æ¡ä»¶ã€‚

#### 2. ç­›é€‰å•†å“
```http
POST /api/filter
Content-Type: application/json

{
  "categories": ["sofa", "chair"],
  "priceRange": {"min": 100, "max": 500},
  "brands": ["ikea", "muji"]
}
```

#### 3. æœç´¢å•†å“
```http
GET /api/search?q=æ²™å‘&page=1&limit=10
```

#### 4. è·å–å•†å“è¯¦æƒ…
```http
GET /api/sku/:id
```

#### 5. è·å–æ¨èå•†å“
```http
GET /api/sku/:id/recommendations
```

#### 6. åˆ›å»ºæ„å‘è®¢å•
```http
POST /api/intent-order
Content-Type: application/json

{
  "skuId": "sku_001",
  "duration": 3,
  "startDate": "2024-02-01",
  "userInfo": {
    "name": "å¼ ä¸‰",
    "phone": "13800138000"
  }
}
```

## ğŸ“± å°ç¨‹åºé¡µé¢

### 1. é¦–é¡µ (pages/index)
- è½®æ’­å¹¿å‘Šä½
- åˆ†ç±»å¯¼èˆª
- çƒ­é—¨å•†å“å±•ç¤º
- æœç´¢å…¥å£

### 2. åˆ†ç±»é¡µ (pages/category)
- å·¦ä¾§åˆ†ç±»åˆ—è¡¨
- å³ä¾§å•†å“ç½‘æ ¼
- åˆ†ç±»å•†å“å±•ç¤º

### 3. åˆ—è¡¨é¡µ (pages/list)
- æœç´¢åŠŸèƒ½
- ç­›é€‰æŠ½å±‰ï¼ˆåˆ†ç±»ã€ä»·æ ¼ã€å“ç‰Œï¼‰
- å•†å“åˆ—è¡¨å±•ç¤º
- ä¸Šæ‹‰åŠ è½½æ›´å¤š

### 4. å•†å“è¯¦æƒ…é¡µ (pages/detail)
- å•†å“å›¾ç‰‡è½®æ’­
- åŸºæœ¬ä¿¡æ¯å±•ç¤º
- å°ºå¯¸ä¿¡æ¯ + ç¤ºæ„å›¾å ä½
- ç§Ÿèµæ—¶é•¿é€‰æ‹©
- ç›¸å…³æ¨è
- ç«‹å³ç§Ÿèµ

### 5. æˆ‘çš„é¡µé¢ (pages/profile)
- ç”¨æˆ·ä¿¡æ¯
- è®¢å•åˆ—è¡¨
- è®¾ç½®é€‰é¡¹
- å®¢æœè”ç³»

## ğŸ’¾ æ•°æ®è¯´æ˜

### æ ·ä¾‹æ•°æ®å¯¼å…¥

é¡¹ç›®åŒ…å« 20 æ¡æ ·ä¾‹å®¶å…·æ•°æ®ï¼Œä½äº `services/api/seed/sku.json`ï¼š

- åŒ…å«æ²™å‘ã€æ¤…å­ã€æ¡Œå­ã€åºŠç­‰4ä¸ªåˆ†ç±»
- æ¶µç›– IKEAã€æ— å°è‰¯å“ã€H&M Home ä¸‰ä¸ªå“ç‰Œ
- æ¯ä¸ªå•†å“åŒ…å«å®Œæ•´çš„å±æ€§ä¿¡æ¯ï¼ˆä»·æ ¼ã€å°ºå¯¸ã€æè´¨ç­‰ï¼‰

### æ•°æ®ç»“æ„

```typescript
interface SKU {
  id: string              // å•†å“ID
  name: string            // å•†å“åç§°
  description: string     // å•†å“æè¿°
  category: string        // åˆ†ç±»
  brand: string          // å“ç‰Œ
  monthlyPrice: number   // æœˆç§Ÿä»·æ ¼
  originalPrice: number  // åŸä»·
  images: string[]       // å›¾ç‰‡URLæ•°ç»„
  dimensions: {          // å°ºå¯¸ä¿¡æ¯
    length: number
    width: number
    height: number
  }
  color: string          // é¢œè‰²
  material: string       // æè´¨
  available: boolean     // æ˜¯å¦å¯ç§Ÿ
  tags: string[]         // æ ‡ç­¾
}
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **Node.js** - è¿è¡Œæ—¶ç¯å¢ƒ
- **Fastify** - Web æ¡†æ¶
- **JSON** - æ•°æ®å­˜å‚¨ï¼ˆMVP é˜¶æ®µï¼‰

### å‰ç«¯
- **å¾®ä¿¡å°ç¨‹åºåŸç”Ÿ** - å‰ç«¯æ¡†æ¶
- **WXSS** - æ ·å¼
- **JavaScript** - é€»è¾‘

### åŸºç¡€è®¾æ–½
- **Docker** - å®¹å™¨åŒ–
- **Nginx** - åå‘ä»£ç†
- **Docker Compose** - å®¹å™¨ç¼–æ’

### å¼€å‘å·¥å…·
- **TypeScript** - ç±»å‹å®šä¹‰
- **Nodemon** - å¼€å‘çƒ­é‡è½½
- **Concurrently** - å¹¶è¡Œä»»åŠ¡

## ğŸ”„ å¼€å‘å·¥ä½œæµ

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `packages/types` ä¸­å®šä¹‰ç›¸å…³ç±»å‹
2. åœ¨ `services/api` ä¸­å®ç° API æ¥å£
3. åœ¨ `apps/miniprogram` ä¸­å¼€å‘é¡µé¢åŠŸèƒ½
4. æ›´æ–°æ–‡æ¡£

### è°ƒè¯•æŠ€å·§

1. **API è°ƒè¯•**: ä½¿ç”¨æµè§ˆå™¨è®¿é—® `http://localhost:3000/health` æ£€æŸ¥æœåŠ¡çŠ¶æ€
2. **å°ç¨‹åºè°ƒè¯•**: ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„è°ƒè¯•é¢æ¿
3. **æ—¥å¿—æŸ¥çœ‹**: æ£€æŸ¥ç»ˆç«¯è¾“å‡ºå’Œå¾®ä¿¡å¼€å‘è€…å·¥å…·æ§åˆ¶å°

## ğŸ“‹ å¾…æ‰©å±•åŠŸèƒ½

- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] æ”¯ä»˜é›†æˆ
- [ ] è®¢å•ç®¡ç†ç³»ç»Ÿ
- [ ] åº“å­˜ç®¡ç†
- [ ] æ•°æ®åº“é›†æˆ
- [ ] å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
- [ ] æ¨é€é€šçŸ¥
- [ ] è¯„ä»·ç³»ç»Ÿ
- [ ] åœ°å€ç®¡ç†
- [ ] ç‰©æµè¿½è¸ª

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æˆ‘ä»¬

- é¡¹ç›®ç»´æŠ¤è€…: [Your Name]
- é‚®ç®±: your.email@example.com
- é¡¹ç›®é“¾æ¥: [GitHub Repository URL]

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ª MVP ç‰ˆæœ¬ï¼Œä»…åŒ…å«æ ¸å¿ƒåŠŸèƒ½çš„åŸºç¡€å®ç°ã€‚ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰è¯·å®Œå–„å®‰å…¨æ€§ã€æ€§èƒ½ä¼˜åŒ–å’Œé”™è¯¯å¤„ç†ã€‚
